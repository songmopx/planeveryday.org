# 个人每日规划系统 - 产品需求文档

## 项目概述
个人每日规划系统是一个帮助用户管理日常任务、培养良好习惯的Web应用。系统支持每日重复任务和单次任务的管理，提供直观的数据可视化展示，让用户获得持续完成任务的成就感。

## 核心功能需求

### 1. 任务管理功能

#### 1.1 任务类型
- **每日任务**：每天都要重复完成的任务
  - 支持次数维度：如"喝水8次"、"做俯卧撑3组"
  - 支持时间维度：如"阅读30分钟"、"工作8小时"
  - 可选择开始日期和结束日期，未设置则默认持续进行
  
- **单日任务**：特定日期需要完成的一次性任务
  - 支持设置具体完成日期
  - 如"参加会议"、"提交报告"等

#### 1.2 任务输入功能
- 用户可自主添加、编辑、删除任务
- 任务分类管理（每日任务/单日任务）
- 任务属性设置（名称、类型、数量、时间等）

### 2. 任务列表功能

#### 2.1 自动生成功能
- 系统自动生成未来3个月的任务列表
- 随时间推移自动补充，保持3个月的前瞻性
- 每日任务按设定规则自动分配到对应日期

#### 2.2 当日任务列表
- 显示当天需要完成的所有任务
- 支持任务完成状态标记（带视觉反馈效果）
- 支持自定义完成数值输入（可输入实际完成的次数/时长）
- 支持完成时添加备注（记录感想、收获、遇到的问题等）
- 支持同一任务多次完成记录
- 支持当日任务的临时修改和删除

#### 2.3 完成记录管理
- 每次任务完成都生成独立记录，包含完成时间、数量、备注
- 在任务下方展示当日所有完成记录列表
- 支持单独删除特定完成记录（精细化管理）
- 已完成任务显示"再次提交"按钮，支持重复完成
- 完成记录包含时间戳、实际完成量、用户备注等详细信息

#### 2.4 任务修改规则
- 删除每日任务：只影响当天，不影响后续日期
- 永久删除每日任务：需在每日任务管理列表中操作
- 单日任务可直接删除

### 3. 数据可视化功能

#### 3.1 首页数据展示
- 累计完成任务总数（带呼吸动效）
- 每日任务累计数据展示（每个每日任务显示累计完成天数和累计完成量）
- 滑动切换功能（超过4个每日任务时支持左右滑动查看）
- 页面指示器（小圆点显示当前页面位置）
- 实时更新的成就数据展示

#### 3.2 统计分析
- 任务完成率统计
- 连续完成天数记录
- 周/月完成趋势图
- 各类任务完成情况分析

### 4. 未完成任务管理

#### 4.1 未完成任务汇总
- 自动收集当日未完成的单日任务
- 提供专门的未完成任务列表页面

#### 4.2 状态管理
- 已完成：用户后续标记完成
- 未完成：待处理状态
- 搁置：暂时不处理
- 放弃：不再执行

### 5. 用户体验功能

#### 5.1 响应式设计
- PC端和移动端良好适配
- 移动端支持滑动操作（滑动删除、滑动标记完成）
- 任务完成按钮增强视觉反馈（hover效果、完成状态显示）
- 现代化玻璃态设计系统（毛玻璃效果、透明度、阴影）
- 动态渐变背景动画，营造活跃氛围
- 一致的悬浮动效和微交互

#### 5.2 通知提醒
- 浏览器通知提醒功能
- 任务到期提醒
- 每日任务完成提醒

#### 5.3 数据存储
- 使用浏览器localStorage本地存储
- 数据持久化保存
- 为后续账号功能预留接口

## 技术规格

### 前端技术栈
- HTML5 + CSS3 + JavaScript
- Tailwind CSS框架
- 响应式设计
- 现代浏览器兼容

### 数据存储
- localStorage本地存储
- JSON格式数据结构
- 为后续服务端迁移预留扩展性

### 设计风格
- 极简主义设计风格
- 苹果典型色系
- 现代化UI组件
- 优秀的用户体验

## 功能优先级

### P0 (核心功能)
- 任务添加和管理
- 当日任务列表
- 任务完成状态标记
- 基础数据存储

### P1 (重要功能)
- 数据可视化展示
- 未完成任务管理
- 自动生成未来任务列表
- 移动端适配

### P2 (增强功能)
- 通知提醒
- 趋势分析图表
- 高级统计功能
- 动效优化

## 后续扩展规划
- 用户账号系统
- 云端数据同步
- 团队协作功能
- 更丰富的统计分析
- 社交分享功能

## 版本更新记录

### v1.3.0 (2025-01-07)
**任务完成记录系统重构**
- 🗂️ **独立完成记录管理**：每次任务完成都有独特ID，支持单独删除
- 📝 **备注功能**：完成任务时可添加可选备注，记录感想、收获或问题
- 📊 **多次完成展示**：在任务下方列出当日所有完成记录，含时间、数量、备注
- 🗑️ **精细删除控制**：可以取消特定的完成记录，而非删除所有记录
- 🔄 **再次提交功能**：已完成任务显示"再次提交"按钮，支持多次完成

**UI美化升级**
- 🌈 **动态渐变背景**：6色渐变背景动画，25秒循环变换营造活跃氛围
- 💎 **玻璃态设计**：所有卡片采用毛玻璃效果，85%透明度+20px背景模糊
- ✨ **微妙纹理**：背景添加光点纹理覆盖层，增强视觉层次
- 🎭 **悬浮动效**：卡片hover时透明度提升至95%，阴影增强，微妙上移

**导航和交互优化**
- 🔘 **导航玻璃化**：导航按钮采用玻璃态背景，悬浮时增强效果
- 🎯 **模态框升级**：完成任务弹窗采用高透明度+强模糊效果
- 🔧 **弹窗修复**：完全解决提交后弹窗不关闭的问题，增加错误处理
- 📱 **一致性设计**：所有界面元素采用统一的透明度和模糊标准

**数据完整性提升**
- 🔢 **向后兼容**：自动为历史完成记录生成ID
- 💾 **累计数据修复**：确保删除任务或完成记录时正确更新累计统计
- 📊 **实时计算**：累计完成任务数实时重新计算，保证数据准确性

### v1.2.0 (2025-01-07)
**首页布局大幅优化**
- 🎯 **统一UI设计**：三个主要模块宽度保持一致，整体视觉更和谐
- 🔢 **双卡片统计区域**：累计完成任务数 + 持续计时器并排显示
- ⏱️ **持续计时器功能**：从第一次完成任务开始计时，显示坚持时长
- 🎆 **撒花特效**：每整点小时触发彩色撒花庆祝动画
- 📏 **容器宽度优化**：整体容器从7xl减少到4xl，提升视觉密度

**动画效果精简**
- 🎭 **精准动画控制**：只在关键数字上使用呼吸动效，其他元素保持简洁
- 🌊 **呼吸效果优化**：累计任务数scale(1.0→1.05)，持续计时器pulse(1.0→0.7)
- ✨ **hover微交互**：卡片悬浮时显示渐变顶边，增强交互反馈

**视觉细节提升**
- 🎨 **渐变装饰线**：统计卡片hover时显示蓝绿渐变顶边
- 🔤 **等宽字体**：计时器使用Monaco字体，数字对齐更美观
- 🎈 **绿色主题**：计时器采用绿色(#34C759)，与蓝色任务数形成对比
- 📱 **响应式优化**：移动端自动切换为单列布局，保持良好体验

**功能增强**
- 🎊 **成就感提升**：整点小时撒花特效 + 祝贺消息
- 💾 **数据持久化**：计时器开始时间存储在localStorage
- 🔄 **实时更新**：每秒更新计时器显示，真实跳动感

### v1.1.0 (2024-12-07)
**首页数据展示优化**
- 🔄 **重构首页展示**：移除连续完成天数、本周完成率、累计运动时间
- ✨ **新增每日任务累计展示**：每个每日任务显示累计完成天数和累计完成量
- 🎠 **滑动切换功能**：超过4个每日任务时支持左右滑动查看
- 🔵 **页面指示器**：小圆点显示当前页面位置

**交互体验优化**
- 🎨 **呼吸动效改进**：从透明度变化改为scale缩放效果(1.0→1.08)
- 🎯 **任务完成视觉反馈**：圆形按钮增加hover效果、完成状态绿色高亮+阴影
- ⚡ **自定义完成数值**：点击完成时可输入实际完成的次数/时长
- 📱 **模态框交互**：新增完成任务确认模态框

**数据统计优化**
- 📊 **统计逻辑重构**：优化每日任务累计数据计算方式
- 🔢 **去重统计**：累计完成天数按日期去重计算
- 💾 **数据结构升级**：扩展统计数据结构支持自定义完成值

### v1.0.0 (2024-12-06)
**初始版本发布**
- 基础任务管理功能
- 每日任务和单日任务支持
- 数据可视化展示
- 响应式设计
- 本地数据存储 